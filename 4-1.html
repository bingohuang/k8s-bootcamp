<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>K8S训练营</title>
	<meta name="description" content="K8S">
	<meta name="keywords" content="K8S Keywords">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<meta property="og:title" content="K8S - Bootcamp Overview">
	<meta property="og:type" content="website">
	<meta property="og:url" content="index.html">
	<meta property="og:image" content="./public/uploads/soc_index.jpg">
	<meta property="og:description" content="K8S">
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@empty">
	<meta name="twitter:title" content="K8S - 训练营">
	<meta name="twitter:description" content="K8S">
	<meta name="twitter:creator" content="@k8s">
	<meta name="twitter:image:src" content="./public/uploads/soc_index.jpg">
	<meta name="twitter:domain" content="index.html">
	<meta itemprop="name" content="K8S - 训练营">
	<meta itemprop="description" content="K8S">
	<meta itemprop="image" content="./public/uploads/soc_index.jpg">


	<link rel="manifest" href="./manifest.json?v=1470121828958">
	<link rel="mask-icon" href="./public/images/safari-pinned-tab.svg?v=1470121828958" color="#A2B2F2">
	<meta name="msapplication-TileColor" content="#A2B2F2">

	<meta name="theme-color" content="#A2B2F2">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="apple-touch-fullscreen" content="yes">

	<link href='./public/css/font-roboto.css' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="./public/css/font-awesome.min.css">
	<link href="./public/css/swiper.min.css" rel="stylesheet">
	<link href="./public/css/styles.css" rel="stylesheet">

	<!--<script src="./public/js/jquery-3.1.0.min.js"></script>-->
	<script src="./public/js/jquery-1.12.1.min.js"></script>
	<script>
		$(function(){
            $(".includedFooter").load("footer.html");
		});
	</script>


	<script src="./public/js/bootstrap.min.js"></script>
	<script src="./public/js/swiper.jquery.min.js"></script>
	<script src='./public/js/ractive.js'></script>
	<script src="./public/js/common.js"></script>

</head>

<body>

<div class="layout" id="top">

	<!-- aside start -->
	<aside class="sidebar">
		<div class="sidebar__inner">
			<header class="header">
				<a class="header__site" href="index.html">
					<img class="header__logo" src="./public/images/logo.svg?v=1470121829149" alt="">
					<img class="header__logo-mobile" src="./public/images/logo_2.svg?v=1470121829149" alt="">
					<span class="header__name">K8S训练营</span>
				</a>
				<div class="header__sider">
					<div class="header__burger"></div>
				</div>
			</header>

			<ul class="nav">
				<li class="marked">
					<a href="index.html">
						<span class="sidebar__ico"></span>
						训练营总览
					</a>
				</li>
				<li class="marked">
					<a href="1-0.html">
						<span class="sidebar__ico"></span>
						1. 集群创建
					</a>
				</li>
				<li class="marked">
					<a href="2-0.html">
						<span class="sidebar__ico"></span>
						2. 应用部署
					</a>
				</li>
				<li class="marked">
					<a href="3-0.html">
						<span class="sidebar__ico"></span>
						3. 应用探索
					</a>
				</li>
				<li class="sidebar__subnav open marked">
					<a href="4-0.html">
						<span class="sidebar__ico"></span>
						4. 应用发布
					</a>
					<ul class="nav">
						<li class="active">
							<a href="4-1.html">
								<span class="sidebar__ico"></span>
								技能学习
							</a>
						</li>
						<li>
							<a href="4-2.html">
								<span class="sidebar__ico"></span>
								实战演练
							</a>
						</li>
						<li>
							<a href="4-3.html">
								<span class="sidebar__ico"></span>
								过关测试
							</a>
						</li>
					</ul>
				</li>
				<li class="sidebar__subnav">
					<a href="5-0.html">
						<span class="sidebar__ico"></span>
						5. 应用扩容
					</a>
				</li>
				<li class="sidebar__subnav">
					<a href="6-0.html">
						<span class="sidebar__ico"></span>
						6. 应用升级
					</a>
				</li>
			</ul>

			<!-- footer start -->
			<footer class="footer" role="contentinfo">
				<div class="includedFooter"></div>
			</footer>
			<a class="scrolltop" href="#top"></a>
			<!-- footer end -->
		</div>
	</aside>
	<!-- aside end -->

	<!-- content start -->
	<main class="content">
		<div class="content__sider">
			<a class="content__trigger" href="#" role="button"></a>
		</div>

		<div class="row">
			<div class="col-md-12">
				<ol class="breadcrumb">
					<li class="active"><a href="4-0.html">关卡4 | 应用发布</a></li>
				</ol>
			</div>
		</div>

		<h1>Services</h1>

		<div class="row">
			<div class="col-md-12 text-left">
				<a class="btn btn-default" href="4-0.html" role="button"><span class="btn__prev">‹</span> 后退</a>
			</div>
		</div>

		<br>
		<br>

		<div class="row">
			<div class="col-md-8">
			<p>尽管Pod在集群内有自己唯一的IP地址，但这些IP地址并没有暴露在Kubernetes之外。考虑到随着时间的推移Pod可能会被停止、删除或替换，我们需要一种机制，能让各个Pod和应用可以自动地找到彼此。Kubernetes的解决方案是将Pod组合为Service。Kubernetes的<b>Service</b>是一个抽象层，它定义了Pod的逻辑组合，可以处理Pod的外部流量，负载均衡和服务发现。</p>

			<p>这种抽象能将Pod暴露给集群之外的流量访问，Service有自己唯一的集群内私有IP地址，也会向外部流量暴露一个端口。如果你需要在集群外访问这些服务，可以选择以下方式：</p>
			<ul>
				<li>负载均衡器：提供一个公有的IP地址（通常会在GKE或AWS上运行Kubernetes时用到）</li>
				<li>NodePort：通过NAT（所有Kubernetes集群和Minikube都适用）将集群上的Service暴露在相同的端口上</li>
			</ul>
			</div>
			<div class="col-md-4">
				<div class="content__box content__box_lined">
					<h3>总结：</h3>
					<ul>
						<li>将Pod暴露给外部流量</li>
						<li>跨Pod的流量负载均衡</li>
						<li>使用label</li>
					</ul>
				</div>
				<div class="content__box content__box_fill">
						<p><i>
							Kubernetes的Service是一个抽象层，它定义了Pod的逻辑组合，可以处理Pod的外部流量，负载均衡和服务发现。
						</i></p>
				</div>
			</div>
		</div>
		<br>

		<div class="row">
			<div class="col-md-8">
				<h2 style="color: #3771e3;">Service概览</h2>
			</div>
		</div>

		<div class="row">
			<div class="col-md-8">
				<p><img src="./public/images/module_04_services.svg"></p>
			</div>
		</div>
		<br>

		<div class="row">
			<div class="col-md-8">

				<p>Service提供了Pod间流量的负载均衡，如果Service是被用来组合一个来自特定Deployment（在下一个<a href="5-0.html">关卡</a>中，有多个实例运行的情况，我们的应用会使用到这个功能）的所有Pod，这个功能会非常有用。</p>

				<p>Service也负责集群内部的服务发现（<a href="6-0.html">关卡6</a>中会涉及），这样前端服务（如web服务器）可以不用关心Pod，就能接收到后端服务（如数据库）的流量。</p>

				<p>Service通过Label Selector来给Pod配对，Label Selector是一个能在Label上进行逻辑操作的分组基元。</p>

			</div>
			<div class="col-md-4">
				<div class="content__box content__box_fill">
					<p><i> 你可以通过在kubectl的run命令后添加--expose参数，在启动Deployment时创建一个Service </i></p>
				</div>
			</div>
		</div>

		<br>

		<div class="row">
			<div class="col-md-8">
				<p><b>Label</b>是绑定到对象（比如Pod）的键值对，你可以把它想象为社交网络中的话题标签。它们将相关的对象以一种用户可以理解的方式组合起来，比如：</p>
				<ul>
					<li>生产环境（生产，测试，开发）</li>
					<li>应用版本（beta，v1.3）</li>
					<li>服务/服务器类型（前端，后端，数据库）</li>
				</ul>
			</div>
			<div class="col-md-4">
				<div class="content__box content__box_fill">
					<p><i> Label是绑定到对象的键/值对</i></p>
				</div>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-md-8">
				<h2 style="color: #3771e3;">Labels</h2>
			</div>
		</div>

		<div class="row">
			<div class="col-md-8">
				<p><img src="./public/images/module_04_labels.svg"></p>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-md-8">

				<p>可以在对象的创建之初，将Label绑定到对象上，也可以后续绑定，并且可以随时更新绑定关系。
				kubectl的run命令在新的Pods/ Deployment上设置了一些默认的Labels/Label Selectors。Label和Label Selectors之前的关系定义了Deployment和其创建的Pod之间的关系。</p>

				<p>下面让我们通过Service实现应用的外部访问，然后练习下Label的使用吧！</p>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-md-12">
				<a class="btn btn-lg btn-success" href="4-2.html" role="button">实战演练<span class="btn__next">›</span></a>
			</div>
		</div>


	</main>
	<!-- content end -->

	<!-- footer start -->
	<footer class="footer" role="contentinfo">
		<div class="includedFooter"></div>
	</footer>

	<a class="scrolltop" href="#top"></a>
	<!-- footer end -->


</div>



</body>
</html>
